<section>
  <div class="content">
    <ion-row>
      <ion-col offset="2" size="8">
        <ion-title>Statistics</ion-title>
      </ion-col>
      <ion-col size="2" class="closeBtn">
        <div>
          <ion-menu-toggle>
            <ion-icon src="../assets/icon/menu.svg"></ion-icon>
          </ion-menu-toggle>
        </div>
      </ion-col>
    </ion-row>
    <h4 *ngIf="nodesService._nodes.length > 0">Network Overview</h4>
    <strong *ngIf="nodesService._nodes.length === 0">
      <br><br><ion-spinner name="bubbles"></ion-spinner>
    </strong>
  </div>
</section>

<ion-content>

  <ion-refresher slot="fixed" (ionRefresh)="updateStats($event)">
    <ion-refresher-content
      class="refreshStats"
      pullingIcon="arrow-round-up"
      pullingText="Update Stats"
    >
    </ion-refresher-content>
  </ion-refresher>

  <ion-grid *ngIf="nodesService._nodes.length > 0" class="container" no-padding no-margin>
    <ion-list>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/validator.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="3" class="stat-container">
              <ion-label>
                <h4>Last Validator</h4>
              </ion-label>
            </ion-col>
            <ion-col size="7" class="number-container" padding-end>
              <h4>{{ nodesService.block.validator }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/voters.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="5" class="stat-container">
              <ion-label>
                <h4>Total Voters</h4>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <h4>{{ fixTotalVoters() }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/vote.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="5" class="stat-container">
              <ion-label>
                <h4>Total Votes</h4>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <h4>{{ fixTotalVotes() }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/security.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="5" class="stat-container">
              <ion-label>
                <h4>Total ELA Staking</h4>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <h4>{{ fixTotalEla() }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/percent.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="7" class="stat-container">
              <ion-label>
                <h4>ELA Voted vs Circulation</h4>
              </ion-label>
            </ion-col>
            <ion-col size="3" class="number-container" padding-end>
              <h4>{{ getVotePercent() }}%</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/ratio.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="7" class="stat-container">
              <ion-label>
                <h4>Active Supernodes</h4>
              </ion-label>
            </ion-col>
            <ion-col size="3" class="number-container" padding-end>
              <h4>{{ nodesService.activeNodes.length }} / {{ nodesService._nodes.length }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/address.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="7" class="stat-container">
              <ion-label>
                <h4>Active Addresses</h4>
              </ion-label>
            </ion-col>
            <ion-col size="3" class="number-container" padding-end>
              <h4>{{ fixActiveAddresses() }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/send.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="7" class="stat-container">
              <ion-label>
                <h4>Transactions per Hour</h4>
              </ion-label>
            </ion-col>
            <ion-col size="3" class="number-container" padding-end>
              <h4>{{ nodesService.mainchain.txperhr }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/mining.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="7" class="stat-container">
              <ion-label>
                <h4>Bitcoin Hashrate Used</h4>
              </ion-label>
            </ion-col>
            <ion-col size="3" class="number-container" padding-end>
              <h4>{{ nodesService.block.percentBTChashrate }}%</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/block.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="5" class="stat-container">
              <ion-label>
                <h4>Block Height</h4>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <h4>{{ fixHeight() }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/rank.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="7" class="stat-container">
              <ion-label>
                <h4>Coin Rank</h4>
              </ion-label>
            </ion-col>
            <ion-col size="3" class="number-container" padding-end>
              <h4>Top #{{ nodesService.price.rank }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/supply.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="5" class="stat-container">
              <ion-label>
                <h4>Circulation Supply</h4>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <h4>{{ fixSupply() }} ELA</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/price.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="7" class="stat-container">
              <ion-label>
                <h4>Price per ELA</h4>
              </ion-label>
            </ion-col>
            <ion-col size="3" class="number-container" padding-end>
              <h4>${{ nodesService.price.usd }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/bitcoin.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="5" class="stat-container">
              <ion-label>
                <h4>Sats per ELA</h4>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <h4>{{ nodesService.price.btc }} BTC</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/volume.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="5" class="stat-container">
              <ion-label>
                <h4>Total Volume</h4>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <h4>{{ fixVolume() }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

     <!--  <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-thumbnail>
                <ion-img src="../assets/icon/pad.png"></ion-img>
              </ion-thumbnail>
            </ion-col>
            <ion-col size="7" class="stat-container">
              <ion-label>
                <h4>Daily ELA Inflation</h4>
              </ion-label>
            </ion-col>
            <ion-col size="3" class="number-container" padding-end>
              <h4>{{ getTotalRewards() }}</h4>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item> -->

    </ion-list>
  </ion-grid>

  <ion-grid *ngIf="nodesService._nodes.length === 0" class="container" no-padding>
    <ion-list>
      <ion-item color="light" class="first">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light" class="first">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light" class="first">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
      <ion-item color="light">
        <ion-grid no-padding>
          <ion-row no-padding>
            <ion-col size="2" class="img-container">
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
            <ion-col size="5">
              <ion-label>
                <ion-skeleton-text animated style="width: 100%; height: 100%;"></ion-skeleton-text>
              </ion-label>
            </ion-col>
            <ion-col size="5" class="number-container" padding-end>
              <ion-skeleton-text animated style="width: 40%; height: 100%;"></ion-skeleton-text>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>
    </ion-list>
  </ion-grid>

</ion-content>

